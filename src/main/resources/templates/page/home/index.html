<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <div th:replace="components/layout :: head"></div>
</head>

<body class="paper">

<div th:replace="components/layout :: navbar"></div>

<div class="container">

    <div class="row">
        <div class="col-12 offset-md-1 col-md-6">
            <section class="padding border post rounded margin-top" th:if="${mainStory}">
                <div th:replace="components/story :: story-card(${mainStory})"></div>
            </section>

            <div id="read-all-languages"></div>
            <script>
                $('#read-all-languages').load('/language/read-all');
            </script>

            <div th:each="story,it: ${featuredStories}">
                <section class="padding border post rounded margin-top">
                    <div th:replace="components/story :: story-summary-card(${story}, null)"></div>
                </section>

                <section class="margin-top" th:if="${toggles.pwa} AND ${it.index == 2}">
                    <div th:replace="components/pwa :: a2hs-card"></div>
                </section>
            </div>

            <section class="margin-top" th:if="${toggles.pwa} AND ${featuredStories.size() LT 3}">
                <div th:replace="components/pwa :: a2hs-card"></div>
            </section>
        </div>

        <div class="col-12 col-md-4 margin-top" th:if="!${authors.isEmpty()}">
            <div class="padding border rounded featured-authors">
                <h4 th:text="#{page.home.feature-blogs}">Featured Blogs</h4>
                <div class="margin-top padding-top border-top" th:each="author:${authors}">
                    <div th:replace="components/story :: author-summary-card(${author})"></div>
                </div>
            </div>
        </div>

    </div>
</div>

<div th:replace="components/layout :: footer"></div>
</body>

</html>
