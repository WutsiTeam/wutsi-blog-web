<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="who-to-follow" th:if="${toggles.follow}">
    <div class="who-to-follow-container"></div>
    <script>
        $(document).ready(function(){
            $('.who-to-follow-container').load('/follow/who');
        });
    </script>
</div>

<div th:fragment="panel(blog,returnUrl)" class="follow-panel box-filled-highlight-light padding text-center border" th:if="${toggles.follow}">
    <div th:replace="components/follow :: follow-button(${blog}, ${returnUrl}, true, true)"></div>
</div>

<a th:fragment="follow-button(blog, returnUrl, primaryButton, includeNameInCaption)"
   class="btn btn-follow" wutsi-track-event="follow"
   th:classappend="primaryButton ? 'btn-primary' : 'btn-light'"
   th:href="'/follow?userId=' + ${blog.id} + '&return=' + ${returnUrl}"
>
    <span th:text="#{button.follow}">Follow</span>
    <span th:if="${includeNameInCaption}" th:text="' @' + ${blog.name}">@ray.sponsible</span>
</a>

<a th:fragment="unfollow-button(blog)"
   class="btn btn-light btn-unfollow" wutsi-track-event="unfollow"
   th:href="'/me/settings/unsubscribe?userId=' + ${blog.id}"
>
    <span th:text="#{button.unfollow}">Unfollow</span>
</a>


</body>
</html>
